window.onload=function(){function e(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.responseText);r.open("GET","http://api.apixu.com/v1/current.json?key=3b2639ee54cf45ce958140709171801&q="+e.ip,!0),r.send(),r.addEventListener("readystatechange",t,!1)}}function t(){if(4===r.readyState&&200===r.status){var e=JSON.parse(r.responseText);console.log(r.responseText),document.getElementById("icon").src="http:"+e.current.condition.icon,n(e),document.getElementById("weather").innerHTML=e.current.condition.text,document.getElementById("position").innerHTML=e.location.name+", "+e.location.country,document.getElementById("time").innerHTML="Last Updated: "+e.current.last_updated}}function n(e){document.getElementById("temperature").innerHTML=e.current.temp_c+"Â°C"}var o=new XMLHttpRequest,r=new XMLHttpRequest;o.open("GET","https://freegeoip.net/json/",!0),o.send(),o.addEventListener("readystatechange",e,!1)};